# Tournament_Simulation
Simulation of a tournament with a playoff system to determine the best place in the grid

## Описание и задачи проекта
Была идея рассмотреть турнир с системой плей-офф. В таких турнирах участник выбывает после первого поражения. Вот пример такой сетки:  
![image](https://github.com/onemanul/Tournament_Simulation/assets/167138408/ac8979d0-d3d7-4535-b6bc-f66bf6cab007)  
Очевидно, что при таком турнире положение в сетке относительно других игроков имеет большое - если не решающее - значение. И если место можно выбрать, то почему бы не выбрать лучшее?  
Турнир рассматривался для 16 участников. Была составлена матрица смежности, значения которой - вероятность победы игрока i над игроком j. Далее была выведена аналитическая формула, позволяющая вычислить вероятность победы игрока при определённом турнирном раскладе. 
## Вероятность победы в турнире
Для начала было интересно вычислить среднюю вероятность победы игроков в турнире всех игроков - для всех раскладов. Для этого было замечено, что некоторые расклады являются аналогичными и вероятность победы не изменяют (пример: `1 2 3 4 5 6 7 8` и `7 8 5 6 4 3 1 2`). Убрав "одинаковые", удалось сократить количество раскладов с `16!=20 922 789 888 000` до `638 512 875`. И всё же вычисления слишком долгие: аналитическая формула ещё и рекурсивна.  
![image](https://github.com/onemanul/Tournament_Simulation/assets/167138408/ca60fed2-a315-4d4e-b1a4-c5765dc72717)
## Поиск лучшего места
В данном турнире рассматривается случай, когда жеребьёвкой выбирается не место в сетке, а порядок выбора места игроками. Но в таком случае возможны две ситуации: мы можем уже знать всю цепочку выбирающих (то есть знать, в каком порядке будут выбирать места игроки после нас) или не обладать этой информацией.
### Без информации об очереди
Если порядок выбирающих неизвестен, следует выбрать место с наибольшей средней вероятностью победы для всех возможных раскладов.  
На вход подаются уже выбравшие места игроки и их места, а так же номер "нашего" игрока. На выход получаем среднюю вероятность победы для каждого из оставшихся мест.  
![image](https://github.com/onemanul/Tournament_Simulation/assets/167138408/f1c53c89-1c6f-49d8-9d9c-91c1a9acef9c)  
### C информации об очереди
Если порядок выбирающих после нас игроков известен, то можно предположить, что каждый следующий игрок так же будет руководствоваться правилом лучшего выбора. Тогда с помощью рекурсивной формулы можно узнать, какие места разберут после нас другие игроки, и выбрать место с наибольшей вероятностью победы. Однако количество рекурсивных вызовов возрастает как сумма ряда, поэтому на пратике посчитать наперёд больше чем для 14 свободных мест (то есть, для выбора третьим из шестнадцати) уже проблематично.  
![image](https://github.com/onemanul/Tournament_Simulation/assets/167138408/09c7422d-4b1e-4ffc-8326-480bae13b7ae)  
